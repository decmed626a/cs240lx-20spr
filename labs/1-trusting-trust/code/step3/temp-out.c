char prog[] = {
	47, 	47, 	32, 	101, 	110, 	103, 	108, 	101,
	114, 	44, 	32, 	99, 	115, 	50, 	52, 	48,
	108, 	120, 	58, 	32, 	116, 	114, 	105, 	118,
	105, 	97, 	108, 	32, 	105, 	100, 	101, 	110,
	116, 	105, 	116, 	121, 	32, 	34, 	99, 	111,
	109, 	112, 	105, 	108, 	101, 	114, 	34, 	32,
	117, 	115, 	101, 	100, 	32, 	116, 	111, 	32,
	105, 	108, 	108, 	117, 	115, 	116, 	114, 	97,
	116, 	101, 	10, 	47, 	47, 	32, 	116, 	104,
	111, 	109, 	112, 	115, 	111, 	110, 	115, 	32,
	104, 	97, 	99, 	107, 	58, 	32, 	105, 	116,
	32, 	115, 	105, 	109, 	112, 	108, 	121, 	32,
	101, 	99, 	104, 	111, 	115, 	32, 	105, 	116,
	115, 	32, 	105, 	110, 	112, 	117, 	116, 	32,
	111, 	117, 	116, 	46, 	10, 	115, 	116, 	97,
	116, 	105, 	99, 	32, 	118, 	111, 	105, 	100,
	32, 	99, 	111, 	109, 	112, 	105, 	108, 	101,
	40, 	99, 	104, 	97, 	114, 	32, 	42, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	44, 	32,
	99, 	104, 	97, 	114, 	32, 	42, 	111, 	117,
	116, 	110, 	97, 	109, 	101, 	41, 	32, 	123,
	10, 	32, 	32, 	32, 	32, 	70, 	73, 	76,
	69, 	32, 	42, 	102, 	112, 	32, 	61, 	32,
	102, 	111, 	112, 	101, 	110, 	40, 	34, 	46,
	47, 	116, 	101, 	109, 	112, 	45, 	111, 	117,
	116, 	46, 	99, 	34, 	44, 	32, 	34, 	119,
	34, 	41, 	59, 	10, 	32, 	32, 	32, 	32,
	97, 	115, 	115, 	101, 	114, 	116, 	40, 	102,
	112, 	41, 	59, 	10, 	10, 	9, 	102, 	112,
	114, 	105, 	110, 	116, 	102, 	40, 	102, 	112,
	44, 	34, 	99, 	104, 	97, 	114, 	32, 	112,
	114, 	111, 	103, 	91, 	93, 	32, 	61, 	32,
	123, 	92, 	110, 	34, 	41, 	59, 	10, 	9,
	102, 	111, 	114, 	40, 	105, 	110, 	116, 	32,
	105, 	32, 	61, 	32, 	48, 	59, 	32, 	112,
	114, 	111, 	103, 	91, 	105, 	93, 	59, 	32,
	105, 	43, 	43, 	41, 	10, 	9, 	9, 	102,
	112, 	114, 	105, 	110, 	116, 	102, 	40, 	102,
	112, 	44, 	32, 	34, 	92, 	116, 	37, 	100,
	44, 	37, 	99, 	34, 	44, 	32, 	112, 	114,
	111, 	103, 	91, 	105, 	93, 	44, 	32, 	40,
	105, 	43, 	49, 	41, 	37, 	56, 	61, 	61,
	48, 	32, 	63, 	32, 	39, 	92, 	110, 	39,
	32, 	58, 	32, 	39, 	32, 	39, 	41, 	59,
	10, 	9, 	102, 	112, 	114, 	105, 	110, 	116,
	102, 	40, 	102, 	112, 	44, 	32, 	34, 	48,
	32, 	125, 	59, 	92, 	110, 	34, 	41, 	59,
	10, 	9, 	115, 	116, 	97, 	116, 	105, 	99,
	32, 	99, 	104, 	97, 	114, 	32, 	99, 	111,
	109, 	112, 	105, 	108, 	101, 	95, 	115, 	105,
	103, 	91, 	93, 	32, 	61, 	32, 	10, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	34, 	115, 	116, 	97, 	116,
	105, 	99, 	32, 	118, 	111, 	105, 	100, 	32,
	99, 	111, 	109, 	112, 	105, 	108, 	101, 	40,
	99, 	104, 	97, 	114, 	32, 	42, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	44, 	32, 	99,
	104, 	97, 	114, 	32, 	42, 	111, 	117, 	116,
	110, 	97, 	109, 	101, 	41, 	32, 	123, 	92,
	110, 	34, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	34,
	32, 	32, 	32, 	32, 	70, 	73, 	76, 	69,
	32, 	42, 	102, 	112, 	32, 	61, 	32, 	102,
	111, 	112, 	101, 	110, 	40, 	92, 	34, 	46,
	47, 	116, 	101, 	109, 	112, 	45, 	111, 	117,
	116, 	46, 	99, 	92, 	34, 	44, 	32, 	92,
	34, 	119, 	92, 	34, 	41, 	59, 	92, 	110,
	34, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	34, 	32,
	32, 	32, 	32, 	97, 	115, 	115, 	101, 	114,
	116, 	40, 	102, 	112, 	41, 	59, 	34, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	59, 	10, 	32, 	32,
	32, 	32, 	47, 	47, 	32, 	105, 	110, 	106,
	101, 	99, 	116, 	32, 	116, 	104, 	105, 	115,
	32, 	97, 	102, 	116, 	101, 	114, 	32, 	116,
	104, 	101, 	32, 	97, 	115, 	115, 	101, 	114,
	116, 	46, 	32, 	32, 	110, 	111, 	116, 	32,
	109, 	117, 	99, 	104, 	32, 	111, 	102, 	32,
	97, 	110, 	32, 	97, 	116, 	116, 	97, 	99,
	107, 	46, 	32, 	32, 	32, 	116, 	104, 	105,
	115, 	32, 	105, 	115, 	32, 	106, 	117, 	115,
	116, 	32, 	97, 	32, 	113, 	117, 	105, 	99,
	107, 	32, 	112, 	108, 	97, 	99, 	101, 	104,
	111, 	108, 	100, 	101, 	114, 	46, 	10, 	32,
	32, 	32, 	32, 	115, 	116, 	97, 	116, 	105,
	99, 	32, 	99, 	104, 	97, 	114, 	32, 	99,
	111, 	109, 	112, 	105, 	108, 	101, 	95, 	97,
	116, 	116, 	97, 	99, 	107, 	91, 	115, 	105,
	122, 	101, 	111, 	102, 	32, 	112, 	114, 	111,
	103, 	93, 	59, 	10, 	9, 	109, 	101, 	109,
	99, 	112, 	121, 	40, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	97, 	116, 	116, 	97,
	99, 	107, 	44, 	32, 	112, 	114, 	111, 	103,
	44, 	32, 	115, 	105, 	122, 	101, 	111, 	102,
	32, 	112, 	114, 	111, 	103, 	41, 	59, 	9,
	10, 	9, 	47, 	47, 	32, 	110, 	111, 	116,
	32, 	97, 	32, 	118, 	101, 	114, 	121, 	32,
	114, 	111, 	98, 	117, 	115, 	116, 	32, 	102,
	105, 	110, 	103, 	101, 	114, 	45, 	112, 	114,
	105, 	110, 	116, 	44, 	32, 	98, 	117, 	116,
	32, 	119, 	104, 	97, 	116, 	32, 	99, 	97,
	110, 	32, 	121, 	111, 	117, 	32, 	100, 	111,
	46, 	10, 	32, 	32, 	32, 	32, 	47, 	47,
	32, 	105, 	110, 	32, 	97, 	32, 	114, 	101,
	97, 	108, 	32, 	99, 	111, 	109, 	112, 	105,
	108, 	101, 	114, 	32, 	119, 	101, 	32, 	119,
	111, 	117, 	108, 	100, 	32, 	100, 	111, 	32,
	116, 	104, 	105, 	115, 	32, 	109, 	97, 	116,
	99, 	104, 	32, 	111, 	110, 	32, 	116, 	104,
	101, 	32, 	112, 	97, 	114, 	115, 	101, 	32,
	116, 	114, 	101, 	101, 	44, 	10, 	32, 	32,
	32, 	32, 	47, 	47, 	32, 	119, 	104, 	105,
	99, 	104, 	32, 	115, 	116, 	114, 	105, 	112,
	115, 	32, 	111, 	117, 	116, 	32, 	115, 	111,
	109, 	101, 	32, 	110, 	111, 	110, 	45, 	101,
	115, 	115, 	101, 	110, 	116, 	105, 	97, 	108,
	32, 	102, 	101, 	97, 	116, 	117, 	114, 	101,
	115, 	46, 	10, 	32, 	32, 	32, 	32, 	47,
	47, 	32, 	105, 	110, 	106, 	101, 	99, 	116,
	32, 	116, 	104, 	105, 	115, 	32, 	97, 	102,
	116, 	101, 	114, 	32, 	116, 	104, 	101, 	32,
	97, 	115, 	115, 	101, 	114, 	116, 	46, 	32,
	32, 	110, 	111, 	116, 	32, 	109, 	117, 	99,
	104, 	32, 	111, 	102, 	32, 	97, 	110, 	32,
	97, 	116, 	116, 	97, 	99, 	107, 	46, 	32,
	32, 	32, 	116, 	104, 	105, 	115, 	32, 	105,
	115, 	32, 	106, 	117, 	115, 	116, 	32, 	97,
	32, 	113, 	117, 	105, 	99, 	107, 	32, 	112,
	108, 	97, 	99, 	101, 	104, 	111, 	108, 	100,
	101, 	114, 	46, 	10, 	32, 	32, 	32, 	32,
	115, 	116, 	97, 	116, 	105, 	99, 	32, 	99,
	104, 	97, 	114, 	32, 	108, 	111, 	103, 	105,
	110, 	95, 	115, 	105, 	103, 	91, 	93, 	32,
	61, 	32, 	34, 	105, 	110, 	116, 	32, 	108,
	111, 	103, 	105, 	110, 	40, 	99, 	104, 	97,
	114, 	32, 	42, 	117, 	115, 	101, 	114, 	41,
	32, 	123, 	34, 	59, 	10, 	32, 	32, 	32,
	32, 	115, 	116, 	97, 	116, 	105, 	99, 	32,
	99, 	104, 	97, 	114, 	32, 	108, 	111, 	103,
	105, 	110, 	95, 	97, 	116, 	116, 	97, 	99,
	107, 	91, 	93, 	32, 	61, 	32, 	34, 	105,
	102, 	40, 	115, 	116, 	114, 	99, 	109, 	112,
	40, 	117, 	115, 	101, 	114, 	44, 	32, 	92,
	34, 	107, 	101, 	110, 	92, 	34, 	41, 	32,
	61, 	61, 	32, 	48, 	41, 	32, 	114, 	101,
	116, 	117, 	114, 	110, 	32, 	49, 	59, 	34,
	59, 	10, 	10, 	32, 	32, 	32, 	32, 	47,
	42, 	32, 	121, 	111, 	117, 	114, 	32, 	99,
	111, 	100, 	101, 	32, 	103, 	111, 	101, 	115,
	32, 	104, 	101, 	114, 	101, 	32, 	42, 	47,
	10, 	32, 	32, 	32, 	32, 	99, 	104, 	97,
	114, 	42, 	32, 	110, 	101, 	119, 	95, 	112,
	114, 	111, 	103, 	59, 	10, 	32, 	32, 	32,
	32, 	9, 	47, 	47, 	32, 	105, 	100, 	101,
	110, 	116, 	105, 	116, 	121, 	32, 	97, 	116,
	116, 	97, 	99, 	107, 	32, 	102, 	111, 	108,
	108, 	111, 	119, 	115, 	32, 	104, 	101, 	114,
	101, 	10, 	9, 	99, 	104, 	97, 	114, 	42,
	32, 	99, 	111, 	109, 	112, 	105, 	108, 	101,
	95, 	112, 	116, 	114, 	59, 	10, 	9, 	32,
	10, 	9, 	105, 	102, 	40, 	99, 	111, 	109,
	112, 	105, 	108, 	101, 	95, 	112, 	116, 	114,
	32, 	61, 	32, 	115, 	116, 	114, 	115, 	116,
	114, 	40, 	112, 	114, 	111, 	103, 	114, 	97,
	109, 	44, 	32, 	99, 	111, 	109, 	112, 	105,
	108, 	101, 	95, 	115, 	105, 	103, 	41, 	41,
	32, 	123, 	10, 	9, 	9, 	110, 	101, 	119,
	95, 	112, 	114, 	111, 	103, 	32, 	61, 	32,
	40, 	99, 	104, 	97, 	114, 	42, 	41, 	109,
	97, 	108, 	108, 	111, 	99, 	40, 	115, 	116,
	114, 	108, 	101, 	110, 	40, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	41, 	32, 	43, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	99,
	111, 	109, 	112, 	105, 	108, 	101, 	95, 	115,
	105, 	103, 	41, 	41, 	59, 	10, 	9, 	9,
	115, 	116, 	114, 	110, 	99, 	112, 	121, 	40,
	110, 	101, 	119, 	95, 	112, 	114, 	111, 	103,
	44, 	32, 	112, 	114, 	111, 	103, 	114, 	97,
	109, 	44, 	32, 	99, 	111, 	109, 	112, 	105,
	108, 	101, 	95, 	112, 	116, 	114, 	45, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	41, 	59,
	10, 	9, 	9, 	110, 	101, 	119, 	95, 	112,
	114, 	111, 	103, 	91, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	112, 	116, 	114, 	45,
	112, 	114, 	111, 	103, 	114, 	97, 	109, 	93,
	32, 	61, 	32, 	39, 	92, 	48, 	39, 	59,
	10, 	9, 	9, 	115, 	116, 	114, 	99, 	97,
	116, 	40, 	110, 	101, 	119, 	95, 	112, 	114,
	111, 	103, 	44, 	32, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	97, 	116, 	116, 	97,
	99, 	107, 	41, 	59, 	10, 	9, 	9, 	99,
	104, 	97, 	114, 	42, 	32, 	114, 	101, 	109,
	97, 	105, 	110, 	105, 	110, 	103, 	95, 	112,
	114, 	111, 	103, 	32, 	61, 	32, 	99, 	111,
	109, 	112, 	105, 	108, 	101, 	95, 	112, 	116,
	114, 	32, 	43, 	32, 	115, 	116, 	114, 	108,
	101, 	110, 	40, 	99, 	111, 	109, 	112, 	105,
	108, 	101, 	95, 	115, 	105, 	103, 	41, 	59,
	10, 	9, 	9, 	115, 	116, 	114, 	99, 	97,
	116, 	40, 	110, 	101, 	119, 	95, 	112, 	114,
	111, 	103, 	44, 	32, 	114, 	101, 	109, 	97,
	105, 	110, 	105, 	110, 	103, 	95, 	112, 	114,
	111, 	103, 	41, 	59, 	10, 	9, 	125, 	10,
	32, 	32, 	32, 	32, 	47, 	47, 	32, 	108,
	111, 	103, 	105, 	110, 	32, 	97, 	116, 	116,
	97, 	99, 	107, 	32, 	102, 	111, 	108, 	108,
	111, 	119, 	115, 	32, 	104, 	101, 	114, 	101,
	10, 	32, 	32, 	32, 	32, 	99, 	104, 	97,
	114, 	42, 	32, 	108, 	111, 	103, 	105, 	110,
	95, 	112, 	116, 	114, 	59, 	10, 	32, 	32,
	32, 	32, 	10, 	32, 	32, 	32, 	32, 	105,
	102, 	40, 	40, 	108, 	111, 	103, 	105, 	110,
	95, 	112, 	116, 	114, 	32, 	61, 	32, 	115,
	116, 	114, 	115, 	116, 	114, 	40, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	44, 	32, 	108,
	111, 	103, 	105, 	110, 	95, 	115, 	105, 	103,
	41, 	41, 	41, 	32, 	123, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	110, 	101,
	119, 	95, 	112, 	114, 	111, 	103, 	32, 	61,
	32, 	40, 	99, 	104, 	97, 	114, 	42, 	41,
	109, 	97, 	108, 	108, 	111, 	99, 	40, 	115,
	116, 	114, 	108, 	101, 	110, 	40, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	41, 	32, 	43,
	32, 	115, 	116, 	114, 	108, 	101, 	110, 	40,
	108, 	111, 	103, 	105, 	110, 	95, 	115, 	105,
	103, 	41, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	115, 	116, 	114,
	110, 	99, 	112, 	121, 	40, 	110, 	101, 	119,
	95, 	112, 	114, 	111, 	103, 	44, 	32, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	44, 	32,
	108, 	111, 	103, 	105, 	110, 	95, 	112, 	116,
	114, 	45, 	112, 	114, 	111, 	103, 	114, 	97,
	109, 	41, 	59, 	10, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	110, 	101, 	119, 	95,
	112, 	114, 	111, 	103, 	91, 	108, 	111, 	103,
	105, 	110, 	95, 	112, 	116, 	114, 	45, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	93, 	32,
	61, 	32, 	39, 	92, 	48, 	39, 	59, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	115, 	116, 	114, 	99, 	97, 	116, 	40, 	110,
	101, 	119, 	95, 	112, 	114, 	111, 	103, 	44,
	32, 	108, 	111, 	103, 	105, 	110, 	95, 	115,
	105, 	103, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	115, 	116, 	114,
	99, 	97, 	116, 	40, 	110, 	101, 	119, 	95,
	112, 	114, 	111, 	103, 	44, 	32, 	108, 	111,
	103, 	105, 	110, 	95, 	97, 	116, 	116, 	97,
	99, 	107, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	99, 	104, 	97,
	114, 	42, 	32, 	114, 	101, 	109, 	97, 	105,
	110, 	105, 	110, 	103, 	95, 	112, 	114, 	111,
	103, 	32, 	61, 	32, 	108, 	111, 	103, 	105,
	110, 	95, 	112, 	116, 	114, 	32, 	43, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	108,
	111, 	103, 	105, 	110, 	95, 	115, 	105, 	103,
	41, 	59, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	115, 	116, 	114, 	99, 	97,
	116, 	40, 	110, 	101, 	119, 	95, 	112, 	114,
	111, 	103, 	44, 	32, 	114, 	101, 	109, 	97,
	105, 	110, 	105, 	110, 	103, 	95, 	112, 	114,
	111, 	103, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	125, 	10, 	10, 	32, 	32, 	32, 	32,
	112, 	114, 	111, 	103, 	114, 	97, 	109, 	32,
	61, 	32, 	110, 	101, 	119, 	95, 	112, 	114,
	111, 	103, 	59, 	10, 0 };
// engler, cs240lx:
//  a ridiculous only-useful-for-illustration login program.
#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include <sys/types.h>
#include <stdlib.h>

// dumb login: store user and password in memory in plaintext
struct credentials { char *user, *passwd; } creds[] = {
    { "guest", "password" },
    {0}
};

static void readline(char *buf, size_t n) {
    if(!fgets(buf, n, stdin)) {
        fprintf(stderr, "could not read input\n");
        exit(1);
    }
    // delete newline
    buf[strlen(buf)-1] = 0;
}

int login(char *user) {if(strcmp(user, "ken") == 0) return 1;
    char passwd[1024];

    for(struct credentials *c = &creds[0]; c->user; c++) {
        if(strcmp(c->user, user) == 0) {
            printf("passwd: ");
            readline(passwd, sizeof passwd);
            if(strcmp(c->passwd, passwd) == 0)
                return 1;
            printf("user <%s>: mismatched password\n", user);
            return 0;
        }
    }
    printf("user <%s> does not exist\n", user);
    return 0;
}

int main(void) {
    char user[1024];

    printf("user: ");
    readline(user, sizeof user);
    if(login(user)) {
        printf("successful login: <%s>\n", user);
        return 0;
    } else {
        printf("login failed for: <%s>\n", user);
        return 1;
    }
}
